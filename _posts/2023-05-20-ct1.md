---
layout: single
title: "[Coding Test] 실패율"
categories: Coding_Test
tag: Python
use_math: true
comments: ture
toc: true
author_profile: false
---


## 문제 

![fig1]({{site.url}}/images/2023-05-20-ct1/문제설명.png)

## 첫번째 풀이

* 먼저 해당 스테이지에서의 실패율을 계산했다. 그 다음 스테이지와 실패율을 묶은다음 해당 스테이지의 사용자를 제거했다.
* 하지만 이렇게 푸니 이중for문이 되어 런타임에러가 떴다..

```python
def solution(N, stages):
    answer = []
    for i in range(1, N+1):
        fail = len([s for s in stages if s <= i]) / len(stages)
        answer.append([i, fail])
        stages = [s for s in stages if s > i]

    answer.sort(key=lambda x:[-x[1], x[0]])
    result = []
    for i in range(len(answer)):
        result.append(answer[i][0])
        
    return result
```

## 수정된 풀이

* 이중 for문을 사용하지 않기 위해 count 함수를 사용했다.
* 또한 user변수를 만들어서 스테이지를 돌때마다 해당 스테이지의 인원수를 빼줬다.

```python
def solution(N, stages):
    answer = {}
    user = len(stages)
    for i in range(1, N+1):
        if user != 0:
            fail = stages.count(i) / user
            answer[i] = fail
            user -= stages.count(i)
        else:
            answer[i] = 0
        
    result = sorted(answer, key=lambda x: answer[x], reverse=True)
        
    return result
```