---
layout: single
title: "[Coding Test] 주차 요금 계산"
categories: Coding_Test
tag: Python
use_math: true
comments: ture
toc: true
author_profile: false
---

## 문제 
![fig1]({{site.url}}/images/2023-08-08-주차요금계산/문제설명1.png)
![fig2]({{site.url}}/images/2023-08-08-주차요금계산/문제설명2.png)


## 내 풀이
* 이 문제는 시간의 차를 계산하는 것이 관건이다.
* 나는 dic을 통해 차량의 입, 출 시간을 계산했다. 만약 'OUT'이면 해당 차량을 제거하는 방식으로 계산했다.
* 또한 total_fee라는 딕셔너리로 해당차량의 총 이용시간을 저장해줬다.

```python
import math

def solution(fees, records):
    basic_time = fees[0]
    basic_fee = fees[1]
    unit_time = fees[2]
    unit_fee = fees[3]
    
    dic = {}
    total_fee = {}
    cars = set([r.split(' ')[1] for r in records])
    total_fee = total_fee.fromkeys(cars, 0)
    total_fee = dict(sorted(total_fee.items()))
    
    for r in records:
        x = r.split(' ')
        if x[1] not in dic:
            dic[x[1]] = x[0]

        elif x[2] == 'OUT':
            h1, m1 = map(int, dic[x[1]].split(':'))
            h2, m2 = map(int, x[0].split(':'))
            t1 = h1*60 + m1
            t2 = h2*60 + m2

            diff_time = t2-t1
            total_fee[x[1]] += diff_time

            del dic[x[1]]
            
    if dic:
        for k in dic.keys():
            h1, m1 = map(int, dic[k].split(':'))
            h2, m2 = 23, 59
            t1 = h1*60 + m1
            t2 = h2*60 + m2

            diff_time = t2-t1
            total_fee[k] += diff_time
            
            
    result = []
    for k, v in total_fee.items():
        if v <= basic_time:
            result.append(basic_fee)
        else:
            fee = basic_fee + math.ceil((v-basic_time)/unit_time) * unit_fee
            result.append(fee)
            
    return result
```

